•	Verify OpenSSL Installation
type:
openssl version

•	Create Directory for SSL Certificates
Type:
Create directory structure for SSL certificates
sudo mkdir -p /etc/ssl/private
sudo mkdir -p /etc/ssl/certs

Set appropriate permissions
sudo chmod 700 /etc/ssl/private
sudo chmod 755 /etc/ssl/certs


•	Generate Private Key
Type:

Generate a 2048-bit RSA private key
sudo openssl genrsa -out /etc/ssl/private/example.com.key 2048

Set secure permissions on the private key
sudo chmod 600 /etc/ssl/private/example.com.key


•	Generate Certificate Signing Request (CSR)
Type:

Create a CSR (Certificate Signing Request)
sudo openssl req -new -key /etc/ssl/private/example.com.key -out /etc/ssl/certs/example.com.csr

•	Generate Self-Signed Certificate
Type:

Generate self-signed certificate valid for 365 days
sudo openssl x509 -req -days 365 -in /etc/ssl/certs/example.com.csr -signkey /etc/ssl/private/example.com.key -out /etc/ssl/certs/example.com.crt

Set appropriate permissions
sudo chmod 644 /etc/ssl/certs/example.com.crt

•	Enable Apache SSL Module
Enable SSL module
sudo a2enmod ssl

Enable rewrite module (useful for HTTP to HTTPS redirects)
sudo a2enmod rewrite

Restart Apache to load modules
sudo systemctl restart apache2

•	Create SSL Virtual Host Configuration
Type:

Create SSL virtual host configuration file
sudo nano /etc/apache2/sites-available/example.com-ssl.conf

Add the following configuration:

<VirtualHost *:443>
    ServerName example.com
    ServerAlias www.example.com
    DocumentRoot /var/www/example.com
    
    SSL Configuration
    SSLEngine on
    SSLCertificateFile /etc/ssl/certs/example.com.crt
    SSLCertificateKeyFile /etc/ssl/private/example.com.key
    
    Security Headers
    Header always set Strict-Transport-Security "max-age=63072000; includeSubDomains; preload"
    Header always set X-Frame-Options DENY
    Header always set X-Content-Type-Options nosniff
    
    Log files
    ErrorLog ${APACHE_LOG_DIR}/example.com-ssl-error.log
    CustomLog ${APACHE_LOG_DIR}/example.com-ssl-access.log combined
    
    Directory configuration
    <Directory /var/www/example.com>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
</VirtualHost>


•	Enable SSL Virtual Host
Enable the SSL virtual host
sudo a2ensite example.com-ssl.conf

Test Apache configuration
sudo apache2ctl configtest

•	Restart Apache and Test
Restart Apache to apply changes
sudo systemctl restart apache2

Check Apache status
sudo systemctl status apache2

•	Verify SSL Certificate
Test SSL certificate from command line
openssl s_client -connect example.com:443 -servername example.com

Check certificate details
openssl x509 -in /etc/ssl/certs/example.com.crt -text –noout

•	Firewall Configuration (if UFW is enabled)
bash# Allow HTTPS traffic
sudo ufw allow 'Apache Full'

Or specifically allow port 443
sudo ufw allow 443/tcp

Check UFW status
sudo ufw status
